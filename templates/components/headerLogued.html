{% macro headerLogued() %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/components/headerLogued.css') }}">
<!-- Importamos la misma fuente de iconos que en el header original -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<!-- Importamos las mismas fuentes de texto para garantizar consistencia -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- Scripts necesarios -->
<script src="{{ url_for('static', filename='js/header-menu.js') }}"></script>
<script src="{{ url_for('static', filename='js/profile-menu.js') }}"></script>

<header class="site-header">
    <div class="container">
        <a href="/dashboard" class="site-logo">UpdateMe</a>
        
        <!-- Botón hamburguesa para dispositivos móviles -->
        <button class="hamburger-btn" id="hamburger-btn" aria-label="Menú">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <!-- Menú para pantallas de escritorio -->
        <nav class="site-nav">
            <a href="/dashboard" class="nav-link">{{ _('Dashboard') }}</a>
            <a href="/pricing" class="nav-link">{{ _('Pricing') }}</a>
            <div class="auth-links">
                <!-- Reemplazamos los botones de login/register con el icono de perfil -->
                <div class="profile-menu">
                    <span class="material-symbols-rounded profile-icon" id="profile-icon">account_circle</span>
                    <div class="profile-dropdown" id="profile-dropdown">
                        <a href="/profile">{{ _('Profile') }}</a>
                        <hr>
                        <a href="/logout">{{ _('Logout') }}</a>
                    </div>
                </div>
            </div>
            <!-- Idiomas -->
            <div class="language-selector">
                <a href="{{ url_for('main.page.change_language', language='es') }}"
                   class="language-link {% if g.locale == 'es' %}active{% endif %}">ES</a>
                <span class="language-divider">|</span>
                <a href="{{ url_for('main.page.change_language', language='en') }}"
                   class="language-link {% if g.locale == 'en' %}active{% endif %}">EN</a>
            </div>
        </nav>

        <!-- Menú móvil overlay -->
        <div class="mobile-menu" id="mobile-menu">
            <nav class="mobile-menu-nav">
                <a href="/dashboard" class="nav-link">{{ _('Dashboard') }}</a>
                <a href="/pricing" class="nav-link">{{ _('Pricing') }}</a>
            </nav>
            <div class="mobile-auth-links">
                <a href="/profile">{{ _('Profile') }}</a>
                <a href="/logout">{{ _('Logout') }}</a>
            </div>
            <div class="mobile-language-selector">
                <a href="{{ url_for('main.page.change_language', language='es') }}"
                   class="language-link {% if g.locale == 'es' %}active{% endif %}">ES</a>
                <span class="language-divider">|</span>
                <a href="{{ url_for('main.page.change_language', language='en') }}"
                   class="language-link {% if g.locale == 'en' %}active{% endif %}">EN</a>
            </div>
        </div>
    </div>
</header>
{% endmacro %}